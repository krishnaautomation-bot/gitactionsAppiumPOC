name: Appium CI
# on push we will trigger our code
on:
  [push]


jobs:
  build:
    runs-on: macos-latest # the machine type
    steps:
      # get UUID  simulator and boot a simulator on mac from  command line
      - name: Start Simulator
        run: xcrun instruments -s  
      - name: "Start Simulator"
        run: |
             UDID=$(
             xcrun instruments -s |
             awk \
             -F ' *[][]' \
             -v 'device=iPhone 11 (14.3)' \
             '$1 == device { print $2 }'
             )
             xcrun simctl boot "${UDID:?No Simulator with this name found}"   
             xcrun instruments -s
             xcrun simctl list 
             xcrun simctl delete unavailable
             xcrun instruments -s
             xcrun simctl list 
             

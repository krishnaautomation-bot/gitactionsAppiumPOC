name: Appium CI
# on push we will trigger our code
on:
  [push]


jobs:
  build:
    runs-on: macos-latest # the machine type
    steps:
      # get UUID  simulator and boot a simulator on mac from  command line
      - name: Start Simulator
        run: xcrun simctl list  
          |
          UDID=$(
            xcrun simctl list |
            awk \
              -F ' *[][]' \
              -v 'device=iPhone 8 Plus' \
              '$1 == device { print $2 }'
          )
          xcrun simctl boot "${UDID:?No Simulator with this name found}"
